<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Paris Agreement - Entry Into Force</title>

<link rel="stylesheet" href="https://unpkg.com/tachyons@4.8.0/css/tachyons.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jq-2.2.4/dt-1.10.15/datatables.min.css"/>
<style>
table.dataTable tr.odd {
  background-color: lightgray;
}
/*table.dataTable tr.even {*/
  /*background-color: #fffceb;*/
/*}*/
a {
  color: #ff6300;
}
hr {
  border: none;
  height: 4px;
  background-color: #333;
  margin-top: 20px;
  margin-bottom: 20px;
}
</style>
</head>

<body class="mb5 f6 sans-serif">

<div class="ph4 mw9 pt3 pb2">
<h1>Paris Agreement<br> Entry Into Force</h1>
<hr>
<p id="description" class="measure-wide"></p>
</div>

<div class="mw9 ph3-ns">
<div class="cf ph2-ns">
<div class="fl w-100 w-50-ns pa2">
<h2>Data Package & Download</h2>
<hr>
<p>
Data: <a href="data/paris-agreement-entry-into-force.csv">paris-agreement-entry-into-force.csv</a>
</p>
<p>
Metadata: <a href="datapackage.json">datapackage.json</a>
</p>

  <p>
Repository: <a href="https://github.com/openclimatedata/paris-agreement-entry-into-force">https://github.com/openclimatedata/paris-agreement-entry-into-force</a>
</p>
<p>
Complete Data Package as a zip file: <a href="https://github.com/openclimatedata/paris-agreement-entry-into-force/archive/master.zip">https://github.com/openclimatedata/paris-agreement-entry-into-force/archive/master.zip</a>
</p>


</div>
<div class="fl w-100 w-50-ns pa2">
<h2>Sources</h2>
<hr>
<ul class="list pl0" id="sources">
</ul>

</div>
</div>
</div>

<div class="ph4 pt2 mw9">
<h2>Data</h2>
<hr>
<table id="entry-into-force" width="100%" cellspacing="0">
<thead>
  <tr>
    <th>Code</th>
    <th>Name</th>
    <th>Signature</th>
    <th>Ratification, Acceptance, Approval</th>
    <th>Kind</th>
    <th>Date of Effect</th>
    <th>Emissions</th>
    <th>Share</th>
    <th>Year</th>
  </tr>
</thead>
</table>
</div>

<div class="ph4 mw8">
<h2>Columns</h2>
<hr>
<table id="metadata" width="100%" cellspacing="0">
<thead>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
</thead>
</table>
</div>



<script src="https://d3js.org/d3-selection.v1.min.js"></script>
<script src="https://d3js.org/d3-collection.v1.min.js"></script>
<script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
<script src="https://d3js.org/d3-dsv.v1.min.js"></script>
<script src="https://d3js.org/d3-request.v1.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-2.2.4/dt-1.10.15/datatables.min.js"></script>
<script>
d3.csv("data/paris-agreement-entry-into-force.csv", function(data) {
  $('table#entry-into-force').DataTable({
    data: data,
    columns: [
      { data: 'Code' },
      { data: 'Name' },
      { data: 'Signature' },
      { data: 'Ratification-Acceptance-Approval' },
      { data: 'Kind' },
      { data: 'Date-Of-Effect' },
      { data: 'Emissions' },
      { data: 'Percentage' },
      { data: 'Year' }
    ],
    order: [[ 3, "desc" ]],
    scrollX: true
  })
})
d3.json("datapackage.json", function(metadata) {
  $('table#metadata').DataTable({
    data: metadata.resources[0].schema.fields,
    columns: [
      { data: 'name' },
      { data: 'type' },
      { data: 'description' }
    ],
    ordering: false,
    paging: false,
    info: false,
    searching: false,
    scrollX: true
  })
  metadata.sources.forEach(function(source) {
    d3.select("#sources").append("li").html(
      "<a href='" + source["web"] + "'>" + source["title"]) + "</a>"
  })
  d3.select("#description").html(metadata.description)
})
</script>
</body>
